yarn install v1.22.10
[1/4] Resolving packages...
success Already up-to-date.
Done in 0.59s.
Checking if node.js is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if yarn is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Environment setup completed.
Checking whether google-cloud-sdk is installed in /Users/srikanthkb/work/opensource/oppia_tools/google-cloud-sdk-335.0.0/google-cloud-sdk
Checking if coverage is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if pylint is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if Pillow is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if pylint-quotes is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if webtest is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if isort is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if pycodestyle is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if esprima is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if PyGithub is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if protobuf is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if psutil is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if pip-tools is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if setuptools is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
Checking if enum34 is installed.
Checking if pip is installed on the local machine
Requirement already satisfied: enum34==1.1.10 in /Users/srikanthkb/Library/Python/2.7/lib/python/site-packages (1.1.10)

Checking if protobuf is installed.
Checking if pip is installed on the local machine
Requirement already satisfied: protobuf==3.13.0 in /Users/srikanthkb/Library/Python/2.7/lib/python/site-packages (3.13.0)
Requirement already satisfied: setuptools in /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages (from protobuf==3.13.0) (41.2.0)
Requirement already satisfied: six>=1.9 in /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages (from protobuf==3.13.0) (1.16.0)

Installing third-party JS libraries and zip files.
Checking if pip is installed on the local machine
Regenerating "requirements.txt" file...
All third-party Python libraries are already installed correctly.
Redis-cli is already installed.
ElasticSearch is already installed.
Copying Google Cloud SDK modules to third_party/python_libs...
Checking that all google library modules contain __init__.py files...
Installing buf and protoc binary.
Compiling protobuf files.

Installing pre-commit hook for git
Symlink already exists
Making pre-commit hook file executable ...
pre-commit hook file is now executable!
Installing pre-push hook for git
Symlink already exists
Making pre-push hook file executable ...
pre-push hook file is now executable!
Checking whether coverage is installed in /Users/srikanthkb/work/opensource/oppia/../oppia_tools
----------------------------------------
Tasks still running:
  core.domain.topic_jobs_one_off_test (started 08:11:42)
----------------------------------------
Error 1
WARNING:root:/Users/srikanthkb/work/opensource/oppia/third_party/python_libs/lib/cacerts/urlfetch_cacerts.txt missing; without this urlfetch will not be able to validate SSL certificates.
test_job_populates_new_thumbnail_size (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests) ... WARNING:root:Shard 1555424347542testbed-request-id-hash-0 got error.
ERROR:root:Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/third_party/python_libs/mapreduce/handlers.py", line 503, in handle
    tstate.input_reader, shard_state, tstate, ctx)
  File "/Users/srikanthkb/work/opensource/oppia/third_party/python_libs/mapreduce/handlers.py", line 593, in _process_inputs
    entity, input_reader, ctx, tstate):
  File "/Users/srikanthkb/work/opensource/oppia/third_party/python_libs/mapreduce/handlers.py", line 635, in _process_datum
    for output in result:
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_jobs_one_off.py", line 135, in map
    topic_model.put()
  File "/Users/srikanthkb/work/opensource/oppia/core/storage/base_model/gae_models.py", line 995, in put
    'The put() method is missing from the '
NotImplementedError: The put() method is missing from the derived class. It should be implemented in the derived class.

WARNING:root:Slice 1555424347542testbed-request-id-hash-0 0 failed for the 1 of up to 11 attempts (1 of 31 taskqueue execution attempts). Will retry now.
ERROR
test_job_skips_thumbnail_size_already_updated (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests) ... ok
test_thumbnail_size_job_skips_deleted_topic (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests) ... ok
test_thumbnail_size_job_thumbnail_size_is_none (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests) ... ok
test_migration_job_converts_old_topic (core.domain.topic_jobs_one_off_test.TopicMigrationOneOffJobTests) ... ok
test_migration_job_does_not_convert_up_to_date_topic (core.domain.topic_jobs_one_off_test.TopicMigrationOneOffJobTests) ... ok
test_migration_job_fails_with_invalid_topic (core.domain.topic_jobs_one_off_test.TopicMigrationOneOffJobTests) ... ERROR:root:Topic topic_id failed validation: Invalid language code: invalid_language_code
Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_jobs_one_off.py", line 64, in map
    topic.validate()
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_domain.py", line 1086, in validate
    'Invalid language code: %s' % self.language_code)
ValidationError: Invalid language code: invalid_language_code
ok
test_migration_job_skips_deleted_topic (core.domain.topic_jobs_one_off_test.TopicMigrationOneOffJobTests) ... ok

======================================================================
ERROR: test_job_populates_new_thumbnail_size (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_jobs_one_off_test.py", line 327, in test_job_populates_new_thumbnail_size
    self.process_and_flush_pending_mapreduce_tasks()
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/test_utils.py", line 1503, in process_and_flush_pending_mapreduce_tasks
    self._execute_mapreduce_tasks(tasks)
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/test_utils.py", line 1482, in _execute_mapreduce_tasks
    raise RuntimeError('MapReduce task failed: %r' % task)
RuntimeError: MapReduce task failed: Task<eta=datetime.datetime(2021, 7, 7, 2, 41, 48, tzinfo=_UTCTimeZone()), headers={'X-AppEngine-TaskETA': '1625625708.66', 'Content-Length': '5038', 'X-AppEngine-Current-Namespace': '', 'AE-MR-Payload-Version': '1', 'AE-MR-SHARD-ID': '1555424347542testbed-request-id-hash-0', 'Host': 'testbed-version.localhost:8080', 'X-AppEngine-TaskRetryCount': '0', 'AE-MR-ID': '1555424347542testbed-request-id-hash', 'X-AppEngine-Development-Payload': '1', 'X-AppEngine-TaskExecutionCount': '0', 'X-AppEngine-QueueName': u'one-off-jobs', 'X-AppEngine-TaskName': u'appengine-mrshard-1555424347542testbed-request-id-hash-0-0-retry-0', 'Content-Type': 'application/octet-stream'}, method='POST', name=u'appengine-mrshard-1555424347542testbed-request-id-hash-0-0-retry-0', payload='mapreduce_spec=%7B%22hooks_class_name%22%3A+null%2C+%22mapper_spec%22%3A+%7B%22mapper_handler_spec%22%3A+%22core.domain.topic_jobs_one_off.PopulateTopicThumbnailSizeOneOffJob.map%22%2C+%22mapper_input_reader%22%3A+%22core.jobs.MultipleDatastoreEntitiesInputReader%22%2C+%22mapper_output_writer%22%3A+%22mapreduce.output_writers._GoogleCloudStorageKeyValueOutputWriter%22%2C+%22mapper_params%22%3A+%7B%22bucket_name%22%3A+%22app_default_bucket%22%2C+%22entity_kinds%22%3A+%5B%22core.storage.topic.gae_models.TopicModel%22%5D%2C+%22output_writer%22%3A+%7B%7D%2C+%22queued_time_msecs%22%3A+%221.62560590828e%2B12%22%7D%2C+%22mapper_shard_count%22%3A+1%7D%2C+%22mapreduce_id%22%3A+%221555424347542testbed-request-id-hash%22%2C+%22name%22%3A+%22PopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%22%2C+%22params%22%3A+%7B%22api_version%22%3A+0%2C+%22app_id%22%3A+null%2C+%22base_path%22%3A+%22%2Fmapreduce%2Fworker%22%2C+%22done_callback%22%3A+%22%2Fmapreduce%2Fworker%2Fpipeline%2Fcallback%3Fpipeline_id%3D7122de662b3c47a287eeb716bf17f328%22%2C+%22done_callback_method%22%3A+%22GET%22%2C+%22force_writes%22%3A+false%2C+%22pipeline_id%22%3A+%227122de662b3c47a287eeb716bf17f328%22%2C+%22queue_name%22%3A+%22one-off-jobs%22%2C+%22shard_max_attempts%22%3A+4%2C+%22task_max_attempts%22%3A+31%2C+%22task_max_data_processing_attempts%22%3A+11%2C+%22user_params%22%3A+%7B%7D%7D%7D&retries=0&input_reader_state=%7B%22readers%22%3A+%7B%22current_iter%22%3A+null%2C+%22key_range_iter_cls%22%3A+%22KeyRangeModelIterator%22%2C+%22key_ranges%22%3A+%7B%22list_of_key_ranges%22%3A+%5B%22%7B%5C%22direction%5C%22%3A+%5C%22ASC%5C%22%2C+%5C%22include_end%5C%22%3A+true%2C+%5C%22include_start%5C%22%3A+true%2C+%5C%22key_end%5C%22%3A+null%2C+%5C%22key_start%5C%22%3A+null%2C+%5C%22namespace%5C%22%3A+%5C%22%5C%22%7D%22%5D%2C+%22name%22%3A+%22_KeyRangesFromList%22%7D%2C+%22name%22%3A+%22_KeyRangesIterator%22%2C+%22query_spec%22%3A+%7B%22app%22%3A+null%2C+%22batch_size%22%3A+50%2C+%22entity_kind%22%3A+%22TopicModel%22%2C+%22filters%22%3A+null%2C+%22keys_only%22%3A+false%2C+%22model_class_path%22%3A+%22core.storage.topic.gae_models.TopicModel%22%2C+%22ns%22%3A+null%2C+%22oversplit_factor%22%3A+1%7D%7D%7D&slice_id=0&output_writer_state=%7B%22buffer%22%3A+%22ccopy_reg%5Cn_reconstructor%5Cnp0%5Cn%28ccloudstorage.storage_api%5CnStreamingBuffer%5Cnp1%5Cnc__builtin__%5Cnobject%5Cnp2%5CnNtp3%5CnRp4%5Cn%28dp5%5CnS%27buffered%27%5Cnp6%5CnI0%5CnsS%27written%27%5Cnp7%5CnI0%5CnsS%27api%27%5Cnp8%5Cng0%5Cn%28ccloudstorage.storage_api%5Cn_StorageApi%5Cnp9%5Cng2%5CnNtp10%5CnRp11%5Cn%28%28dp12%5CnS%27retry_params%27%5Cnp13%5Cng0%5Cn%28ccloudstorage.api_utils%5CnRetryParams%5Cnp14%5Cng2%5CnNtp15%5CnRp16%5Cn%28dp17%5CnS%27initial_delay%27%5Cnp18%5CnF0.1%5CnsS%27max_retry_period%27%5Cnp19%5CnF30.0%5CnsS%27min_retries%27%5Cnp20%5CnI5%5CnsS%27_user_agent%27%5Cnp21%5CnS%27App+Engine+Python+MR%27%5Cnp22%5CnsS%27backoff_factor%27%5Cnp23%5CnF2.0%5CnsS%27_request_id%27%5Cnp24%5CnS%277357B3D7091D%27%5Cnp25%5CnsS%27max_delay%27%5Cnp26%5CnF10.0%5CnsS%27urlfetch_timeout%27%5Cnp27%5CnI30%5CnsS%27max_retries%27%5Cnp28%5CnI10%5CnsS%27save_access_token%27%5Cnp29%5CnI01%5CnsbsS%27scopes%27%5Cnp30%5Cn%28lp31%5CnS%27https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdevstorage.full_control%27%5Cnp32%5CnasS%27expiration_headroom%27%5Cnp33%5CnI93%5CnsS%27a_maker%27%5Cnp34%5CnNsS%27id%27%5Cnp35%5CnNs%28dp36%5CnS%27api_url%27%5Cnp37%5CnVhttp%3A%2F%2Flocalhost%2F_ah%2Fgcs%5Cnp38%5Cnstp39%5CnbsS%27path_token%27%5Cnp40%5CnV%2Fapp_default_bucket%2FPopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%2F1555424347542testbed-request-id-hash%2Foutput-0%3Fupload_id%3Dencoded_gs_file%253AYXBwX2RlZmF1bHRfYnVja2V0L1BvcHVsYXRlVG9waWNUaHVtYm5haWxTaXplT25lT2ZmSm9iLTE2MjU2MDU5MDgyNzEtNjE2LW1hcC8xNTU1NDI0MzQ3NTQydGVzdGJlZC1yZXF1ZXN0LWlkLWhhc2gvb3V0cHV0LTA%253D%5Cnp41%5CnsS%27closed%27%5Cnp42%5CnI00%5CnsS%27offset%27%5Cnp43%5CnI0%5CnsS%27buffer%27%5Cnp44%5Cnccollections%5Cndeque%5Cnp45%5Cn%28%28lp46%5Cntp47%5CnRp48%5CnsS%27path%27%5Cnp49%5CnV%2Fapp_default_bucket%2FPopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%2F1555424347542testbed-request-id-hash%2Foutput-0%5Cnp50%5Cnsb.%22%2C+%22no_dup%22%3A+false%7D&initial_input_reader_state=%7B%22readers%22%3A+%7B%22current_iter%22%3A+null%2C+%22key_range_iter_cls%22%3A+%22KeyRangeModelIterator%22%2C+%22key_ranges%22%3A+%7B%22list_of_key_ranges%22%3A+%5B%22%7B%5C%22direction%5C%22%3A+%5C%22ASC%5C%22%2C+%5C%22include_end%5C%22%3A+true%2C+%5C%22include_start%5C%22%3A+true%2C+%5C%22key_end%5C%22%3A+null%2C+%5C%22key_start%5C%22%3A+null%2C+%5C%22namespace%5C%22%3A+%5C%22%5C%22%7D%22%5D%2C+%22name%22%3A+%22_KeyRangesFromList%22%7D%2C+%22name%22%3A+%22_KeyRangesIterator%22%2C+%22query_spec%22%3A+%7B%22app%22%3A+null%2C+%22batch_size%22%3A+50%2C+%22entity_kind%22%3A+%22TopicModel%22%2C+%22filters%22%3A+null%2C+%22keys_only%22%3A+false%2C+%22model_class_path%22%3A+%22core.storage.topic.gae_models.TopicModel%22%2C+%22ns%22%3A+null%2C+%22oversplit_factor%22%3A+1%7D%7D%7D&shard_id=1555424347542testbed-request-id-hash-0', queue_name=None, retry_options=None, size=5642, target='testbed-version', url=u'/mapreduce/worker/worker_callback/1555424347542testbed-request-id-hash-0', was_deleted=False, was_enqueued=False>

----------------------------------------------------------------------
Ran 8 tests in 34.948s

FAILED (errors=1)
Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/gae_suite.py", line 110, in <module>
    main()
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/gae_suite.py", line 106, in main
    result.testsRun, len(result.errors), len(result.failures)))
Exception: Test suite failed: 8 tests run, 1 errors, 0 failures.

02:42:22 ERROR core.domain.topic_jobs_one_off_test: 40.7 secs
Error 1
WARNING:root:/Users/srikanthkb/work/opensource/oppia/third_party/python_libs/lib/cacerts/urlfetch_cacerts.txt missing; without this urlfetch will not be able to validate SSL certificates.
test_job_populates_new_thumbnail_size (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests) ... WARNING:root:Shard 1555424347542testbed-request-id-hash-0 got error.
ERROR:root:Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/third_party/python_libs/mapreduce/handlers.py", line 503, in handle
    tstate.input_reader, shard_state, tstate, ctx)
  File "/Users/srikanthkb/work/opensource/oppia/third_party/python_libs/mapreduce/handlers.py", line 593, in _process_inputs
    entity, input_reader, ctx, tstate):
  File "/Users/srikanthkb/work/opensource/oppia/third_party/python_libs/mapreduce/handlers.py", line 635, in _process_datum
    for output in result:
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_jobs_one_off.py", line 135, in map
    topic_model.put()
  File "/Users/srikanthkb/work/opensource/oppia/core/storage/base_model/gae_models.py", line 995, in put
    'The put() method is missing from the '
NotImplementedError: The put() method is missing from the derived class. It should be implemented in the derived class.

WARNING:root:Slice 1555424347542testbed-request-id-hash-0 0 failed for the 1 of up to 11 attempts (1 of 31 taskqueue execution attempts). Will retry now.
ERROR
test_job_skips_thumbnail_size_already_updated (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests) ... ok
test_thumbnail_size_job_skips_deleted_topic (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests) ... ok
test_thumbnail_size_job_thumbnail_size_is_none (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests) ... ok
test_migration_job_converts_old_topic (core.domain.topic_jobs_one_off_test.TopicMigrationOneOffJobTests) ... ok
test_migration_job_does_not_convert_up_to_date_topic (core.domain.topic_jobs_one_off_test.TopicMigrationOneOffJobTests) ... ok
test_migration_job_fails_with_invalid_topic (core.domain.topic_jobs_one_off_test.TopicMigrationOneOffJobTests) ... ERROR:root:Topic topic_id failed validation: Invalid language code: invalid_language_code
Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_jobs_one_off.py", line 64, in map
    topic.validate()
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_domain.py", line 1086, in validate
    'Invalid language code: %s' % self.language_code)
ValidationError: Invalid language code: invalid_language_code
ok
test_migration_job_skips_deleted_topic (core.domain.topic_jobs_one_off_test.TopicMigrationOneOffJobTests) ... ok

======================================================================
ERROR: test_job_populates_new_thumbnail_size (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_jobs_one_off_test.py", line 327, in test_job_populates_new_thumbnail_size
    self.process_and_flush_pending_mapreduce_tasks()
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/test_utils.py", line 1503, in process_and_flush_pending_mapreduce_tasks
    self._execute_mapreduce_tasks(tasks)
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/test_utils.py", line 1482, in _execute_mapreduce_tasks
    raise RuntimeError('MapReduce task failed: %r' % task)
RuntimeError: MapReduce task failed: Task<eta=datetime.datetime(2021, 7, 7, 2, 41, 48, tzinfo=_UTCTimeZone()), headers={'X-AppEngine-TaskETA': '1625625708.66', 'Content-Length': '5038', 'X-AppEngine-Current-Namespace': '', 'AE-MR-Payload-Version': '1', 'AE-MR-SHARD-ID': '1555424347542testbed-request-id-hash-0', 'Host': 'testbed-version.localhost:8080', 'X-AppEngine-TaskRetryCount': '0', 'AE-MR-ID': '1555424347542testbed-request-id-hash', 'X-AppEngine-Development-Payload': '1', 'X-AppEngine-TaskExecutionCount': '0', 'X-AppEngine-QueueName': u'one-off-jobs', 'X-AppEngine-TaskName': u'appengine-mrshard-1555424347542testbed-request-id-hash-0-0-retry-0', 'Content-Type': 'application/octet-stream'}, method='POST', name=u'appengine-mrshard-1555424347542testbed-request-id-hash-0-0-retry-0', payload='mapreduce_spec=%7B%22hooks_class_name%22%3A+null%2C+%22mapper_spec%22%3A+%7B%22mapper_handler_spec%22%3A+%22core.domain.topic_jobs_one_off.PopulateTopicThumbnailSizeOneOffJob.map%22%2C+%22mapper_input_reader%22%3A+%22core.jobs.MultipleDatastoreEntitiesInputReader%22%2C+%22mapper_output_writer%22%3A+%22mapreduce.output_writers._GoogleCloudStorageKeyValueOutputWriter%22%2C+%22mapper_params%22%3A+%7B%22bucket_name%22%3A+%22app_default_bucket%22%2C+%22entity_kinds%22%3A+%5B%22core.storage.topic.gae_models.TopicModel%22%5D%2C+%22output_writer%22%3A+%7B%7D%2C+%22queued_time_msecs%22%3A+%221.62560590828e%2B12%22%7D%2C+%22mapper_shard_count%22%3A+1%7D%2C+%22mapreduce_id%22%3A+%221555424347542testbed-request-id-hash%22%2C+%22name%22%3A+%22PopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%22%2C+%22params%22%3A+%7B%22api_version%22%3A+0%2C+%22app_id%22%3A+null%2C+%22base_path%22%3A+%22%2Fmapreduce%2Fworker%22%2C+%22done_callback%22%3A+%22%2Fmapreduce%2Fworker%2Fpipeline%2Fcallback%3Fpipeline_id%3D7122de662b3c47a287eeb716bf17f328%22%2C+%22done_callback_method%22%3A+%22GET%22%2C+%22force_writes%22%3A+false%2C+%22pipeline_id%22%3A+%227122de662b3c47a287eeb716bf17f328%22%2C+%22queue_name%22%3A+%22one-off-jobs%22%2C+%22shard_max_attempts%22%3A+4%2C+%22task_max_attempts%22%3A+31%2C+%22task_max_data_processing_attempts%22%3A+11%2C+%22user_params%22%3A+%7B%7D%7D%7D&retries=0&input_reader_state=%7B%22readers%22%3A+%7B%22current_iter%22%3A+null%2C+%22key_range_iter_cls%22%3A+%22KeyRangeModelIterator%22%2C+%22key_ranges%22%3A+%7B%22list_of_key_ranges%22%3A+%5B%22%7B%5C%22direction%5C%22%3A+%5C%22ASC%5C%22%2C+%5C%22include_end%5C%22%3A+true%2C+%5C%22include_start%5C%22%3A+true%2C+%5C%22key_end%5C%22%3A+null%2C+%5C%22key_start%5C%22%3A+null%2C+%5C%22namespace%5C%22%3A+%5C%22%5C%22%7D%22%5D%2C+%22name%22%3A+%22_KeyRangesFromList%22%7D%2C+%22name%22%3A+%22_KeyRangesIterator%22%2C+%22query_spec%22%3A+%7B%22app%22%3A+null%2C+%22batch_size%22%3A+50%2C+%22entity_kind%22%3A+%22TopicModel%22%2C+%22filters%22%3A+null%2C+%22keys_only%22%3A+false%2C+%22model_class_path%22%3A+%22core.storage.topic.gae_models.TopicModel%22%2C+%22ns%22%3A+null%2C+%22oversplit_factor%22%3A+1%7D%7D%7D&slice_id=0&output_writer_state=%7B%22buffer%22%3A+%22ccopy_reg%5Cn_reconstructor%5Cnp0%5Cn%28ccloudstorage.storage_api%5CnStreamingBuffer%5Cnp1%5Cnc__builtin__%5Cnobject%5Cnp2%5CnNtp3%5CnRp4%5Cn%28dp5%5CnS%27buffered%27%5Cnp6%5CnI0%5CnsS%27written%27%5Cnp7%5CnI0%5CnsS%27api%27%5Cnp8%5Cng0%5Cn%28ccloudstorage.storage_api%5Cn_StorageApi%5Cnp9%5Cng2%5CnNtp10%5CnRp11%5Cn%28%28dp12%5CnS%27retry_params%27%5Cnp13%5Cng0%5Cn%28ccloudstorage.api_utils%5CnRetryParams%5Cnp14%5Cng2%5CnNtp15%5CnRp16%5Cn%28dp17%5CnS%27initial_delay%27%5Cnp18%5CnF0.1%5CnsS%27max_retry_period%27%5Cnp19%5CnF30.0%5CnsS%27min_retries%27%5Cnp20%5CnI5%5CnsS%27_user_agent%27%5Cnp21%5CnS%27App+Engine+Python+MR%27%5Cnp22%5CnsS%27backoff_factor%27%5Cnp23%5CnF2.0%5CnsS%27_request_id%27%5Cnp24%5CnS%277357B3D7091D%27%5Cnp25%5CnsS%27max_delay%27%5Cnp26%5CnF10.0%5CnsS%27urlfetch_timeout%27%5Cnp27%5CnI30%5CnsS%27max_retries%27%5Cnp28%5CnI10%5CnsS%27save_access_token%27%5Cnp29%5CnI01%5CnsbsS%27scopes%27%5Cnp30%5Cn%28lp31%5CnS%27https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdevstorage.full_control%27%5Cnp32%5CnasS%27expiration_headroom%27%5Cnp33%5CnI93%5CnsS%27a_maker%27%5Cnp34%5CnNsS%27id%27%5Cnp35%5CnNs%28dp36%5CnS%27api_url%27%5Cnp37%5CnVhttp%3A%2F%2Flocalhost%2F_ah%2Fgcs%5Cnp38%5Cnstp39%5CnbsS%27path_token%27%5Cnp40%5CnV%2Fapp_default_bucket%2FPopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%2F1555424347542testbed-request-id-hash%2Foutput-0%3Fupload_id%3Dencoded_gs_file%253AYXBwX2RlZmF1bHRfYnVja2V0L1BvcHVsYXRlVG9waWNUaHVtYm5haWxTaXplT25lT2ZmSm9iLTE2MjU2MDU5MDgyNzEtNjE2LW1hcC8xNTU1NDI0MzQ3NTQydGVzdGJlZC1yZXF1ZXN0LWlkLWhhc2gvb3V0cHV0LTA%253D%5Cnp41%5CnsS%27closed%27%5Cnp42%5CnI00%5CnsS%27offset%27%5Cnp43%5CnI0%5CnsS%27buffer%27%5Cnp44%5Cnccollections%5Cndeque%5Cnp45%5Cn%28%28lp46%5Cntp47%5CnRp48%5CnsS%27path%27%5Cnp49%5CnV%2Fapp_default_bucket%2FPopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%2F1555424347542testbed-request-id-hash%2Foutput-0%5Cnp50%5Cnsb.%22%2C+%22no_dup%22%3A+false%7D&initial_input_reader_state=%7B%22readers%22%3A+%7B%22current_iter%22%3A+null%2C+%22key_range_iter_cls%22%3A+%22KeyRangeModelIterator%22%2C+%22key_ranges%22%3A+%7B%22list_of_key_ranges%22%3A+%5B%22%7B%5C%22direction%5C%22%3A+%5C%22ASC%5C%22%2C+%5C%22include_end%5C%22%3A+true%2C+%5C%22include_start%5C%22%3A+true%2C+%5C%22key_end%5C%22%3A+null%2C+%5C%22key_start%5C%22%3A+null%2C+%5C%22namespace%5C%22%3A+%5C%22%5C%22%7D%22%5D%2C+%22name%22%3A+%22_KeyRangesFromList%22%7D%2C+%22name%22%3A+%22_KeyRangesIterator%22%2C+%22query_spec%22%3A+%7B%22app%22%3A+null%2C+%22batch_size%22%3A+50%2C+%22entity_kind%22%3A+%22TopicModel%22%2C+%22filters%22%3A+null%2C+%22keys_only%22%3A+false%2C+%22model_class_path%22%3A+%22core.storage.topic.gae_models.TopicModel%22%2C+%22ns%22%3A+null%2C+%22oversplit_factor%22%3A+1%7D%7D%7D&shard_id=1555424347542testbed-request-id-hash-0', queue_name=None, retry_options=None, size=5642, target='testbed-version', url=u'/mapreduce/worker/worker_callback/1555424347542testbed-request-id-hash-0', was_deleted=False, was_enqueued=False>

----------------------------------------------------------------------
Ran 8 tests in 34.948s

FAILED (errors=1)
Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/gae_suite.py", line 110, in <module>
    main()
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/gae_suite.py", line 106, in main
    result.testsRun, len(result.errors), len(result.failures)))
Exception: Test suite failed: 8 tests run, 1 errors, 0 failures.


+------------------+
| SUMMARY OF TESTS |
+------------------+

======================================================================
ERROR: test_job_populates_new_thumbnail_size (core.domain.topic_jobs_one_off_test.PopulateTopicThumbnailSizeOneOffJobTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/srikanthkb/work/opensource/oppia/core/domain/topic_jobs_one_off_test.py", line 327, in test_job_populates_new_thumbnail_size
    self.process_and_flush_pending_mapreduce_tasks()
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/test_utils.py", line 1503, in process_and_flush_pending_mapreduce_tasks
    self._execute_mapreduce_tasks(tasks)
  File "/Users/srikanthkb/work/opensource/oppia/core/tests/test_utils.py", line 1482, in _execute_mapreduce_tasks
    raise RuntimeError('MapReduce task failed: %r' % task)
RuntimeError: MapReduce task failed: Task<eta=datetime.datetime(2021, 7, 7, 2, 41, 48, tzinfo=_UTCTimeZone()), headers={'X-AppEngine-TaskETA': '1625625708.66', 'Content-Length': '5038', 'X-AppEngine-Current-Namespace': '', 'AE-MR-Payload-Version': '1', 'AE-MR-SHARD-ID': '1555424347542testbed-request-id-hash-0', 'Host': 'testbed-version.localhost:8080', 'X-AppEngine-TaskRetryCount': '0', 'AE-MR-ID': '1555424347542testbed-request-id-hash', 'X-AppEngine-Development-Payload': '1', 'X-AppEngine-TaskExecutionCount': '0', 'X-AppEngine-QueueName': u'one-off-jobs', 'X-AppEngine-TaskName': u'appengine-mrshard-1555424347542testbed-request-id-hash-0-0-retry-0', 'Content-Type': 'application/octet-stream'}, method='POST', name=u'appengine-mrshard-1555424347542testbed-request-id-hash-0-0-retry-0', payload='mapreduce_spec=%7B%22hooks_class_name%22%3A+null%2C+%22mapper_spec%22%3A+%7B%22mapper_handler_spec%22%3A+%22core.domain.topic_jobs_one_off.PopulateTopicThumbnailSizeOneOffJob.map%22%2C+%22mapper_input_reader%22%3A+%22core.jobs.MultipleDatastoreEntitiesInputReader%22%2C+%22mapper_output_writer%22%3A+%22mapreduce.output_writers._GoogleCloudStorageKeyValueOutputWriter%22%2C+%22mapper_params%22%3A+%7B%22bucket_name%22%3A+%22app_default_bucket%22%2C+%22entity_kinds%22%3A+%5B%22core.storage.topic.gae_models.TopicModel%22%5D%2C+%22output_writer%22%3A+%7B%7D%2C+%22queued_time_msecs%22%3A+%221.62560590828e%2B12%22%7D%2C+%22mapper_shard_count%22%3A+1%7D%2C+%22mapreduce_id%22%3A+%221555424347542testbed-request-id-hash%22%2C+%22name%22%3A+%22PopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%22%2C+%22params%22%3A+%7B%22api_version%22%3A+0%2C+%22app_id%22%3A+null%2C+%22base_path%22%3A+%22%2Fmapreduce%2Fworker%22%2C+%22done_callback%22%3A+%22%2Fmapreduce%2Fworker%2Fpipeline%2Fcallback%3Fpipeline_id%3D7122de662b3c47a287eeb716bf17f328%22%2C+%22done_callback_method%22%3A+%22GET%22%2C+%22force_writes%22%3A+false%2C+%22pipeline_id%22%3A+%227122de662b3c47a287eeb716bf17f328%22%2C+%22queue_name%22%3A+%22one-off-jobs%22%2C+%22shard_max_attempts%22%3A+4%2C+%22task_max_attempts%22%3A+31%2C+%22task_max_data_processing_attempts%22%3A+11%2C+%22user_params%22%3A+%7B%7D%7D%7D&retries=0&input_reader_state=%7B%22readers%22%3A+%7B%22current_iter%22%3A+null%2C+%22key_range_iter_cls%22%3A+%22KeyRangeModelIterator%22%2C+%22key_ranges%22%3A+%7B%22list_of_key_ranges%22%3A+%5B%22%7B%5C%22direction%5C%22%3A+%5C%22ASC%5C%22%2C+%5C%22include_end%5C%22%3A+true%2C+%5C%22include_start%5C%22%3A+true%2C+%5C%22key_end%5C%22%3A+null%2C+%5C%22key_start%5C%22%3A+null%2C+%5C%22namespace%5C%22%3A+%5C%22%5C%22%7D%22%5D%2C+%22name%22%3A+%22_KeyRangesFromList%22%7D%2C+%22name%22%3A+%22_KeyRangesIterator%22%2C+%22query_spec%22%3A+%7B%22app%22%3A+null%2C+%22batch_size%22%3A+50%2C+%22entity_kind%22%3A+%22TopicModel%22%2C+%22filters%22%3A+null%2C+%22keys_only%22%3A+false%2C+%22model_class_path%22%3A+%22core.storage.topic.gae_models.TopicModel%22%2C+%22ns%22%3A+null%2C+%22oversplit_factor%22%3A+1%7D%7D%7D&slice_id=0&output_writer_state=%7B%22buffer%22%3A+%22ccopy_reg%5Cn_reconstructor%5Cnp0%5Cn%28ccloudstorage.storage_api%5CnStreamingBuffer%5Cnp1%5Cnc__builtin__%5Cnobject%5Cnp2%5CnNtp3%5CnRp4%5Cn%28dp5%5CnS%27buffered%27%5Cnp6%5CnI0%5CnsS%27written%27%5Cnp7%5CnI0%5CnsS%27api%27%5Cnp8%5Cng0%5Cn%28ccloudstorage.storage_api%5Cn_StorageApi%5Cnp9%5Cng2%5CnNtp10%5CnRp11%5Cn%28%28dp12%5CnS%27retry_params%27%5Cnp13%5Cng0%5Cn%28ccloudstorage.api_utils%5CnRetryParams%5Cnp14%5Cng2%5CnNtp15%5CnRp16%5Cn%28dp17%5CnS%27initial_delay%27%5Cnp18%5CnF0.1%5CnsS%27max_retry_period%27%5Cnp19%5CnF30.0%5CnsS%27min_retries%27%5Cnp20%5CnI5%5CnsS%27_user_agent%27%5Cnp21%5CnS%27App+Engine+Python+MR%27%5Cnp22%5CnsS%27backoff_factor%27%5Cnp23%5CnF2.0%5CnsS%27_request_id%27%5Cnp24%5CnS%277357B3D7091D%27%5Cnp25%5CnsS%27max_delay%27%5Cnp26%5CnF10.0%5CnsS%27urlfetch_timeout%27%5Cnp27%5CnI30%5CnsS%27max_retries%27%5Cnp28%5CnI10%5CnsS%27save_access_token%27%5Cnp29%5CnI01%5CnsbsS%27scopes%27%5Cnp30%5Cn%28lp31%5CnS%27https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdevstorage.full_control%27%5Cnp32%5CnasS%27expiration_headroom%27%5Cnp33%5CnI93%5CnsS%27a_maker%27%5Cnp34%5CnNsS%27id%27%5Cnp35%5CnNs%28dp36%5CnS%27api_url%27%5Cnp37%5CnVhttp%3A%2F%2Flocalhost%2F_ah%2Fgcs%5Cnp38%5Cnstp39%5CnbsS%27path_token%27%5Cnp40%5CnV%2Fapp_default_bucket%2FPopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%2F1555424347542testbed-request-id-hash%2Foutput-0%3Fupload_id%3Dencoded_gs_file%253AYXBwX2RlZmF1bHRfYnVja2V0L1BvcHVsYXRlVG9waWNUaHVtYm5haWxTaXplT25lT2ZmSm9iLTE2MjU2MDU5MDgyNzEtNjE2LW1hcC8xNTU1NDI0MzQ3NTQydGVzdGJlZC1yZXF1ZXN0LWlkLWhhc2gvb3V0cHV0LTA%253D%5Cnp41%5CnsS%27closed%27%5Cnp42%5CnI00%5CnsS%27offset%27%5Cnp43%5CnI0%5CnsS%27buffer%27%5Cnp44%5Cnccollections%5Cndeque%5Cnp45%5Cn%28%28lp46%5Cntp47%5CnRp48%5CnsS%27path%27%5Cnp49%5CnV%2Fapp_default_bucket%2FPopulateTopicThumbnailSizeOneOffJob-1625605908271-616-map%2F1555424347542testbed-request-id-hash%2Foutput-0%5Cnp50%5Cnsb.%22%2C+%22no_dup%22%3A+false%7D&initial_input_reader_state=%7B%22readers%22%3A+%7B%22current_iter%22%3A+null%2C+%22key_range_iter_cls%22%3A+%22KeyRangeModelIterator%22%2C+%22key_ranges%22%3A+%7B%22list_of_key_ranges%22%3A+%5B%22%7B%5C%22direction%5C%22%3A+%5C%22ASC%5C%22%2C+%5C%22include_end%5C%22%3A+true%2C+%5C%22include_start%5C%22%3A+true%2C+%5C%22key_end%5C%22%3A+null%2C+%5C%22key_start%5C%22%3A+null%2C+%5C%22namespace%5C%22%3A+%5C%22%5C%22%7D%22%5D%2C+%22name%22%3A+%22_KeyRangesFromList%22%7D%2C+%22name%22%3A+%22_KeyRangesIterator%22%2C+%22query_spec%22%3A+%7B%22app%22%3A+null%2C+%22batch_size%22%3A+50%2C+%22entity_kind%22%3A+%22TopicModel%22%2C+%22filters%22%3A+null%2C+%22keys_only%22%3A+false%2C+%22model_class_path%22%3A+%22core.storage.topic.gae_models.TopicModel%22%2C+%22ns%22%3A+null%2C+%22oversplit_factor%22%3A+1%7D%7D%7D&shard_id=1555424347542testbed-request-id-hash-0', queue_name=None, retry_options=None, size=5642, target='testbed-version', url=u'/mapreduce/worker/worker_callback/1555424347542testbed-request-id-hash-0', was_deleted=False, was_enqueued=False>

---------------------------------------------------------------------
FAILED    core.domain.topic_jobs_one_off_test: 1 errors, 0 failures

Ran 8 tests in 1 test class.
(1 ERRORS, 0 FAILURES)
